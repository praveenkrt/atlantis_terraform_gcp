version: 3

# Allowlist to restrict which repositories can use Atlantis
allowlist:
  repos:
    - your-org/terraform_atlantis_gcp  # Replace with your GitHub organization/repo

# Define different workflows
workflows:
  default:
    plan:
      steps:
        - run: echo "Running plan..."
        - init
        - plan
    apply:
      steps:
        - run: echo "Applying changes..."
        - apply

# Define project settings
projects:
  - name: terraform_atlantis_gcp
    dir: .
    workflow: default
    # Optional: Specify the allowlist for this project
    allowlist:
      - your-org/terraform_atlantis_gcp  # Replace with your GitHub organization/repo
      
comment:
  enabled: true
